

{% extends 'base.html' %}

{% block title %} Headquarter Map {% endblock %}    
 
{% block body %}

 <!--GOOGLE MAPS API-->
 <style type="text/css">
  /* Set the size of the div element that contains the map */
  #map {
    height: 400px;
    /* The height is 400 pixels */
    width: 100%;
    /* The width is the width of the web page */
  }
</style>

<script>
  // Initialize and add the map
  
  $.get('/mapupdate', latLng, (res) => {
    // Display response from the server
    const latLng = res;
    var latLng_js = JSON.parse(latLng)

    function initialize() {
    geocoder = new google.maps.Geocoder();
    var latlng = latLng_js;
    var mapOptions = {
      zoom: 8,
      center: latlng
    }
    map = new google.maps.Map(document.getElementById('map'), mapOptions);
  }

</script>

<body>
<h3>{{name}}'s Headquarter</h3>

<form id='price-chart' name='price-chart' action="/chartupdate">
            <label for="symbol">Stock Symbol:</label><br>
            <input type="text" id="symbol" name="symbol"><br> 
            <input type="submit" value="submit">

<body onload="initialize()">
  <div id="map" style="width: 320px; height: 480px;"></div>
   <div>
     <input id="symbol" type="textbox" value="AAPL">
     
   </div>
 </body>

<!-- Async script executes immediately and must be after any DOM elements used in callback. -->
<script
  src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCGBE_HYW8qt3BnNFW3gKoYb2GWHDThAt8&callback=initMap&libraries=&v=weekly"
  async
></script>

</body>

{% endblock %}